<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css"
/><p-toast></p-toast><p-confirmDialog></p-confirmDialog>

<div style="width: 80%; margin-left: 10%">
  <div class="card">
    <br />
    <input
      pInputText
      type="text"
      (input)="myTab.filterGlobal($any($event.target).value, 'contains')"
      placeholder="Search"
      class="searchField"
    />
    <h1>
      Active Accounts: &nbsp;
      <span>
        {{ activeAccounts.counts }}
      </span>
    </h1>

    <br /><br />

    <p-table
      #myTab
      [value]="activeAccounts.pending"
      [tableStyle]="{ 'min-width': '60rem' }"
      [paginator]="true"
      [rows]="5"
      [rowsPerPageOptions]="[5, 10, 15, 20, 30, 50, 75, 100]"
      [globalFilterFields]="['fullName', 'email', 'position']"
      styleClass="p-datatable-gridlines"
      [resizableColumns]="true"
      [autoLayout]="true"
      class="tbl"
    >
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="id" style="width: 6%"></th>
          <th
            pSortableColumn="programLead"
            style="width: 16%"
            [ngStyle]="{ 'text-align': 'center' }"
          >
            Fullname<p-sortIcon field="name"></p-sortIcon>
          </th>
          <th
            pSortableColumn="place"
            style="width: 16%"
            [ngStyle]="{ 'text-align': 'center' }"
          >
            Email <p-sortIcon field="category"></p-sortIcon>
          </th>

          <th
            pSortableColumn="extensionPartner"
            style="width: 16%"
            [ngStyle]="{ 'text-align': 'center' }"
          >
            Position <p-sortIcon field="price"></p-sortIcon>
          </th>
          <th
            pSortableColumn="startDate"
            style="width: 5%"
            [ngStyle]="{ 'text-align': 'center' }"
          >
            Action
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-active>
        <tr>
          <td>
            <img
              src="http://localhost/extensionManagementRestAPI/assets/profile/{{
                active.profilePicture
              }}"
              alt=""
              style="
                height: 80px;
                width: 80px;
                border-radius: 100%;
                object-fit: cover;
                margin-left: 20%;
              "
            />
          </td>
          <td>{{ active.fullName }}</td>
          <td>{{ active.email }}</td>
          <td>{{ active.position }}</td>
          <!-- <td>{{ pending.profilePicture }}</td> -->
          <!-- <td>{{ pending.startDate }}</td>
        <td>{{ pending.endDate }}</td> -->
          <td>
            <button
              label="Edit Profile"
              styleClass="p-button-primary"
              class="button"
              [ngStyle]="{ 'margin-right': '8px' }"
              (click)="edit(active.id)"
              [style]="{
                'background-color': systemProfile.ThemeColor + ' !important',
                width: '150px',
                height: '45px',
                color: 'white'
              }"
            >
              Edit Profile
            </button>
            <!-- (click)="reject(pending.id)" -->
            <!-- (click)="onView(program.id)" -->
            <button
              styleClass="p-button-danger"
              (click)="archive(active.id)"
              class="button"
              label="Archive"
              [ngStyle]="{ 'margin-right': '8px' }"
              [style]="{
                border: '2px solid ' + systemProfile.ThemeColor,
                width: '100px',
                height: '45px',
                color: systemProfile.ThemeColor,
                'background-color': 'white',
                'font-weight': 700,
                'margin-right': '15px'
              }"
            >
              Archive
            </button>

            <!-- </td> -->
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
